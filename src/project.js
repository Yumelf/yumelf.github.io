__require=function t(e,l,g){function b(c,d){if(!l[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var m="function"==typeof __require&&__require;if(!d&&m)return m(a,!0);if(h)return h(a,!0);throw Error("Cannot find module '"+c+"'");}}d=l[c]={exports:{}};e[c][0].call(d.exports,function(a){return b(e[c][1][a]||a)},d,d.exports,t,e,l,g)}return l[c].exports}for(var h="function"==typeof __require&&__require,c=0;c<g.length;c++)b(g[c]);return b}({Chibi:[function(e,l,g){function f(c){c.runAction(cc.sequence([g.Chibi.$a.clone(),
    cc.callFunc(function(){b[c.name].put(c)})]))}cc._RF.push(l,"6272bGXWwxPrIM7GQrDZtJi","Chibi");Object.defineProperty(g,"__esModule",{value:!0});var b={},h={takoyaki:function(c){c.getComponent(cc.Animation).play(["sosu","shoyu","sosu_tsumayoji","shoyu_tsumayoji"][Math.max(0,Math.floor(4*Math.random()-.1))]);f(c)},tamashi:function(c){var b=c.getComponent(cc.Animation);b.play("grow");b.scheduleOnce(function(){b.play("loop")},1);f(c)}};g.Chibi={$a:null,$b:{},$c:function(c,e){c in b||(b[c]=new cc.NodePool);
    var d=0<b[c].size()?b[c].get():cc.instantiate(g.Chibi.$b[c]);h[c](d);d.parent=e}};cc._RF.pop()},{}],Game:[function(e,l,g){cc._RF.push(l,"6a41b/Vj4tNrYWl/hCxHzUH","Game");Object.defineProperty(g,"__esModule",{value:!0});g.Game={$d:0,$e:300,$f:null,$g:412,$h:94,$i:35,$j:53,$k:.2,$l:.15,$m:.08,$n:"BPM:80\nOFFSET:-4.04\nCOURSE:Easy\nLEVEL:4\nBALLOON:\nSCOREINIT:1000\nSCOREDIFF:380\n\n#START\n1,\n#BPMCHANGE 79\n1,\n#BPMCHANGE 76.7\n#MEASURE 8/4\n100000000000100000000000500000000000000000000000\n#BPMCHANGE 134\n000000000000000000000000000000000008000000000000,\n#MEASURE 4/4\n#BPMCHANGE 129\n12,\n1120,\n11,\n1000100030030000,\n11,\n12,\n11,\n12,\n10011000,\n10022000,\n1012,\n10022000,\n11,\n12,\n11,\n12,\n10011000,\n10022000,\n1111,\n500000000000000000000000000000000008000000000000,\n1001000000000000,\n2002000000000000,\n12,\n12,\n1001000000000000,\n2002000000000000,\n11,\n500000000000000000000000000000000008000000000000,//31\n\n#GOGOSTART\n1110,\n1220,\n1110,\n1120,\n1110,\n1220,\n1110,\n1000000030030000,\n1110,\n1220,\n1110,\n1000000030030000,//43\n\n#GOGOEND\n,\n,\n#END"};
    cc._RF.pop()},{}],Note:[function(e,l,g){cc._RF.push(l,"773b2dLSY1M3pvhLHGV+KEW","Note");Object.defineProperty(g,"__esModule",{value:!0});var f=e("./Game");e=function(){function b(e,c,k,d){void 0===d&&(d=!1);this.$p=this.$o=null;this.$t=this.$s=this.$r=this.$q=0;this.$u="don";this.$v=!1;this.$o=cc.instantiate(b.$w);this.$u=c;this.$v=d;this.$p=k;this.$o.opacity=255;this.$o.scale=d?.7571:.5;this.$o.getComponent(cc.Sprite).spriteFrame="don"==c?b.$x:b.$y;this.$q=e;this.$r=e-f.Game.$k;this.$s=e+f.Game.$k;
    this.$t=e+(f.Game.$g-330+(d?f.Game.$j:f.Game.$i))/f.Game.$e}return b.prototype.$z=function(){this.$o.parent=this.$p.line;this.$o.position=cc.v2(f.Game.$g+this.$q*f.Game.$e,f.Game.$h)},b.prototype.$A=function(){var e=this;this.$o.stopAllActions();this.$o.runAction(cc.sequence([b.$B.clone(),cc.callFunc(function(){e.$p.$C()}),cc.fadeOut(.5),cc.callFunc(function(){e.$D()})]))},b.prototype.$E=function(b,c){if(this.$u==b){b=Math.abs(this.$q-this.$p.$q);if(b<f.Game.$m)return this.$p.$F(),this.$s=0,void this.$D();
    if(b<f.Game.$l)return this.$p.$G(),this.$s=0,void this.$D();this.$p.$H();this.$s=this.$r}},b.prototype.$D=function(){this.$o&&(0!=this.$s&&this.$p.$I(),this.$o.destroy(),this.$o=null)},b.$w=null,b.$x=null,b.$y=null,b.$B=null,b}();g.Note=e;e=function(){function b(e,c,k,d){void 0===d&&(d=!1);this.$u="renda";this.$v=!1;this.$p=this.$o=null;this.$t=this.$s=this.$r=0;this.$o=cc.instantiate(b.$w);this.$v=d;this.$p=k;this.$o.scale=d?.7571:.5;this.$r=e;this.$s=c;this.$t=c+(f.Game.$g-330+(d?f.Game.$j:f.Game.$i))/
    f.Game.$e;this.$o.width=(70+(c-e)*f.Game.$e)/(d?.7571:.5)}return b.prototype.$z=function(){this.$o.parent=this.$p.line;this.$o.position=cc.v2(f.Game.$g+this.$r*f.Game.$e,f.Game.$h)},b.prototype.$E=function(b,c){this.$p.$J()},b.prototype.$D=function(){this.$o.destroy()},b.$w=null,b}();g.Renda=e;cc._RF.pop()},{"./Game":"Game"}],main:[function(e,l,g){cc._RF.push(l,"e1b90/rohdEk4SdmmEZANaD","main");Object.defineProperty(g,"__esModule",{value:!0});var f=e("./Chibi"),b=e("./Note"),h=e("./Game");e=cc._decorator;
    var c=e.ccclass,k=e.property;e=function(d){function a(){var a=null!==d&&d.apply(this,arguments)||this;return a.nod=null,a.beatPrefab=null,a.rendaPrefab=null,a.donFrame=null,a.katsuFrame=null,a.takoyakiPrefab=null,a.tamashiPrefab=null,a.demo=null,a}return __extends(a,d),a.prototype.onLoad=function(){b.Note.$w=this.beatPrefab;b.Note.$x=this.donFrame;b.Note.$y=this.katsuFrame;b.Renda.$w=this.rendaPrefab;f.Chibi.$b.takoyaki=this.takoyakiPrefab;f.Chibi.$b.tamashi=this.tamashiPrefab;this.nod.runAction(cc.sequence([cc.moveBy(4,
    -332.6,0),cc.moveBy(0,332.6,0)]).repeatForever());h.Game.$f=this.demo;h.Game.$d=cc.view.getVisibleSize().width;for(var a=(h.Game.$d-330+40)/6,c=[],d=0;8>=d;d++)c.push(cc.v2(330+d*a,d%2?225:280));f.Chibi.$a=cc.cardinalSplineTo(2,c,0);b.Note.$B=cc.jumpTo(.6,h.Game.$d-50-39,211,240,1)},__decorate([k(cc.Node)],a.prototype,"nod",void 0),__decorate([k(cc.Prefab)],a.prototype,"beatPrefab",void 0),__decorate([k(cc.Prefab)],a.prototype,"rendaPrefab",void 0),__decorate([k(cc.SpriteFrame)],a.prototype,"donFrame",
    void 0),__decorate([k(cc.SpriteFrame)],a.prototype,"katsuFrame",void 0),__decorate([k(cc.Prefab)],a.prototype,"takoyakiPrefab",void 0),__decorate([k(cc.Prefab)],a.prototype,"tamashiPrefab",void 0),__decorate([k(cc.AudioSource)],a.prototype,"demo",void 0),a=__decorate([c],a)}(cc.Component);g.default=e;cc._RF.pop()},{"./Chibi":"Chibi","./Game":"Game","./Note":"Note"}],pipeline:[function(e,l,g){cc._RF.push(l,"0a4b27PV9lAsZvkNDkH39Ji","pipeline");Object.defineProperty(g,"__esModule",{value:!0});l=cc._decorator;
    var f=l.ccclass,b=l.property,h=e("./Chibi"),c=e("./Note"),k=e("./Game");e=function(d){function a(){var a=null!==d&&d.apply(this,arguments)||this;return a.chibiLine=null,a.badLine=null,a.line=null,a.shader=null,a.result=null,a.scoreAnim=null,a.scoreTotal=null,a.scorePlus=null,a.rendaAnim=null,a.rendaTotal=null,a.comboAnim=null,a.comboTotal=null,a.fadeAnim=null,a.$q=0,a.$K=[],a.$L=0,a.$M=0,a.$N=0,a.$O=!1,a.$P=0,a.$Q=0,a.$R=0,a.$S=0,a}var e;return __extends(a,d),e=a,a.prototype.$E=function(a,b){if(this.$O){this.shader.stopAllActions();
    this.shader.opacity=80;this.shader.color="don"==a?e.$T:e.$U;this.shader.runAction(cc.fadeOut(.3));for(var c=0;c<this.$K.length;c++){var d=this.$K[c];if(this.$q<d.$r)break;if(this.$q<d.$s){d.$E(a,b);break}}}else this.$V()},a.prototype.$W=function(a){this.$L+=a;this.scorePlus.string=String(a);this.scoreTotal.string=String(this.$L);this.scoreAnim.play("score_plus")},a.prototype.$X=function(){this.$N++;10<=this.$N&&(this.comboTotal.node.opacity=255,this.comboAnim.play("combo_plus"),this.comboTotal.string=
    String(this.$N))},a.prototype.$Y=function(){0!=this.$N&&(this.$N=0,this.comboTotal.node.opacity=0)},a.prototype.$G=function(){this.$W(100);this.$X();this.result.play(this.$K[0].$v?"big_ok":"ok");h.Chibi.$c("takoyaki",this.chibiLine)},a.prototype.$H=function(){this.$Y();this.result.play("bad");h.Chibi.$c("tamashi",this.badLine)},a.prototype.$F=function(){this.$W(200);this.$X();this.result.play(this.$K[0].$v?"big_good":"good");h.Chibi.$c("takoyaki",this.chibiLine)},a.prototype.$I=function(){this.$Y();
    h.Chibi.$c("tamashi",this.badLine)},a.prototype.$J=function(){this.$W(100);0==this.$M?this.rendaAnim.play("renda_fan").wrapMode=cc.WrapMode.Normal:this.rendaAnim.play("renda_plus");this.$P=this.$q;this.$M++;this.rendaTotal.string=String(this.$M)},a.prototype.$C=function(){this.fadeAnim.play("fade")},a.prototype.start=function(){this.$Z()},a.prototype.$Z=function(){this.$L=0;this.scoreTotal.string="0";this.$M=0;this.$N=this.rendaAnim.node.opacity=0;this.comboAnim.node.opacity=0;this.line.position=
    cc.v2(0,0);this.$O=!1;this.$0(k.Game.$n);this.$Q=(k.Game.$d+k.Game.$j)/k.Game.$e;this.$S=this.$q=this.$R=0},a.prototype.update=function(a){var b=this;if(this.$O){if(0==this.$q){if(this.$q=Number(k.Game.$f.getCurrentTime()),0==this.$q)return;this.scheduleOnce(function(){b.$Z();h.Chibi.$c("takoyaki",b.chibiLine)},Number(k.Game.$f.getDuration()));this.line.x=-this.$q*k.Game.$e}else this.$q+=a,this.line.x-=a*k.Game.$e;if(!(.1>this.$q-this.$S)){this.$S=this.$q;for(0<this.$P&&1<this.$q-this.$P&&(this.rendaAnim.play("renda_fan").wrapMode=
    cc.WrapMode.Reverse,this.$M=0,this.$P=0);(c=this.$K[0])&&!(c.$t>this.$q);)c.$D(),this.$K.shift(),this.$R--;for(a=this.$R;a<this.$K.length;a++){var c;if((c=this.$K[a]).$r>this.$q+this.$Q)break;c.$o&&null==c.$o.parent&&(c.$z(),this.$R++)}}}},a.prototype.$0=function(a){var b=this;a=a.split("\n");var d=0,e=0,m="",f=0;this.$K=[];a.forEach(function(a){if("9">=(a=a.trim().split("//")[0])[0]&&"0"<=a[0]){a=a.slice(0,-1);for(var k=a.length,g=0;g<a.length;g++){var l=a[g],h=d+60/e/k*g*4;Math.floor(h);switch(l){case "0":continue;
    case "1":b.$K.push(new c.Note(h,"don",b));break;case "2":b.$K.push(new c.Note(h,"katsu",b));break;case "3":b.$K.push(new c.Note(h,"don",b,!0));break;case "4":b.$K.push(new c.Note(h,"katsu",b,!0));break;case "5":if(""!=m)continue;m="5";f=h;break;case "6":if(""!=m)continue;m="6";f=h;break;case "8":""!=m&&(b.$K.push(new c.Renda(f,h,b,"6"==m)),m="")}}d+=60/e*4}else if("#"==a[0])switch((a=a.slice(1).split(" "))[0]){case "BPMCHANGE":e=parseFloat(a[1])}else switch((a=a.split(":"))[0]){case "OFFSET":d=-parseFloat(a[1]);
    break;case "BPM":e=parseFloat(a[1])}})},a.prototype.$V=function(){this.$O=!0;k.Game.$f.play()},a.$T=cc.color(247,73,38),a.$U=cc.color(106,192,193),__decorate([b(cc.Node)],a.prototype,"chibiLine",void 0),__decorate([b(cc.Node)],a.prototype,"badLine",void 0),__decorate([b(cc.Node)],a.prototype,"line",void 0),__decorate([b(cc.Node)],a.prototype,"shader",void 0),__decorate([b(cc.Animation)],a.prototype,"result",void 0),__decorate([b(cc.Animation)],a.prototype,"scoreAnim",void 0),__decorate([b(cc.Label)],
    a.prototype,"scoreTotal",void 0),__decorate([b(cc.Label)],a.prototype,"scorePlus",void 0),__decorate([b(cc.Animation)],a.prototype,"rendaAnim",void 0),__decorate([b(cc.Label)],a.prototype,"rendaTotal",void 0),__decorate([b(cc.Animation)],a.prototype,"comboAnim",void 0),__decorate([b(cc.Label)],a.prototype,"comboTotal",void 0),__decorate([b(cc.Animation)],a.prototype,"fadeAnim",void 0),a=e=__decorate([f],a)}(cc.Component);g.Pipeline=e;cc._RF.pop()},{"./Chibi":"Chibi","./Game":"Game","./Note":"Note"}],
    taiko:[function(e,l,g){cc._RF.push(l,"8f87e2O75FPmZ4crphzlfVZ","taiko");Object.defineProperty(g,"__esModule",{value:!0});var f=e("./Game"),b=e("./pipeline");e=cc._decorator;var h=e.ccclass,c=e.property;e=function(e){function d(){var a=null!==e&&e.apply(this,arguments)||this;return a.don_left=null,a.don_right=null,a.katsu_left=null,a.katsu_right=null,a.don=null,a.katsu=null,a.bg=null,a.beat=null,a.pipeline=null,a}var a;return __extends(d,e),a=d,d.prototype.onEnable=function(){this.don_left.opacity=
    0;this.don_right.opacity=0;this.katsu_left.opacity=0;this.katsu_right.opacity=0;this.node.on(cc.Node.EventType.TOUCH_START,this.$1,this);this.bg.on(cc.Node.EventType.TOUCH_START,this.$2,this)},d.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.$1,this);this.bg.off(cc.Node.EventType.TOUCH_START,this.$2,this)},d.prototype.convertPos=function(a){return cc.v2(a.x-f.Game.$d/2,a.y)},d.prototype.$3=function(b){cc.audioEngine.play(this.don,!1,.66);0<b?(this.don_right.opacity=
    255,this.don_right.runAction(a.$4.clone()),this.pipeline.$E("don","right")):(this.don_left.opacity=255,this.don_left.runAction(a.$4.clone()),this.pipeline.$E("don","left"))},d.prototype.$5=function(b){cc.audioEngine.play(this.katsu,!1,.66);0<b?(this.katsu_right.opacity=255,this.katsu_right.runAction(a.$4.clone()),this.pipeline.$E("katsu","right")):(this.katsu_left.opacity=255,this.katsu_left.runAction(a.$4.clone()),this.pipeline.$E("katsu","left"))},d.prototype.$1=function(a){a.stopPropagation();
    this.beat.play();a=this.convertPos(a.getLocation());300>a.mag()?this.$3(a.x):this.$5(a.x)},d.prototype.$2=function(a){a.stopPropagation();this.beat.play();a=this.convertPos(a.getLocation());this.$5(a.x)},d.$4=cc.fadeOut(.25),__decorate([c(cc.Node)],d.prototype,"don_left",void 0),__decorate([c(cc.Node)],d.prototype,"don_right",void 0),__decorate([c(cc.Node)],d.prototype,"katsu_left",void 0),__decorate([c(cc.Node)],d.prototype,"katsu_right",void 0),__decorate([c({type:cc.AudioClip})],d.prototype,"don",
    void 0),__decorate([c({type:cc.AudioClip})],d.prototype,"katsu",void 0),__decorate([c(cc.Node)],d.prototype,"bg",void 0),__decorate([c(cc.Animation)],d.prototype,"beat",void 0),__decorate([c(b.Pipeline)],d.prototype,"pipeline",void 0),d=a=__decorate([h],d)}(cc.Component);g.default=e;cc._RF.pop()},{"./Game":"Game","./pipeline":"pipeline"}]},{},"Chibi Game Note main pipeline taiko".split(" "));